name: 038a741d-b420-42e4-832f-02ef4e267993
id: 038a741d-b420-42e4-832f-02ef4e267993
category: Office
version: 0.0.1.3
inputs:
- name: train_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: valid_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: rsp_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: vocab_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: model_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: gmr_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: eval_input_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: eyeson_debug
  optional: true
  type: String
- name: docker_image
  optional: true
  type: String
  default: pytorch:v1.1.0_gpu_cuda9.0_py36_release_gpuenv_hvd0.16.1
- name: num_gpu
  optional: true
  type: Int
- name: vm_size
  optional: true
  type: String
  default: Standard_NC24s_v3
- name: cluster_id
  optional: true
  type: String
  default: matrixbatchprodeus
- name: distributed_launcher
  optional: true
  type: String
- name: distributed_arguments
  optional: true
  type: String
- name: run_mode
  optional: true
  type: String
  default: train
- name: tokenizer
  optional: true
  type: String
  default: outlook
- name: max_epochs
  optional: true
  type: Int
  default: '10'
- name: max_msg_len
  optional: true
  type: Int
  default: '150'
- name: max_rsp_len
  optional: true
  type: Int
  default: '37'
- name: model_file
  optional: true
  type: Int
  default: '-1'
- name: lm_alpha
  optional: true
  type: String
  default: '1.4'
- name: Arguments
  optional: true
  type: String
outputs:
- name: model_output_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
- name: eval_output_dir
  type:
  - AzureEncryptedBlobReference
  description: AzureEncryptedBlobReference
  port: true
  optional: true
implementation:
  container:
    runConfig:
      baseDockerImage: mcr.microsoft.com/azureml/base:intelmpi2018.3-ubuntu16.04
      gpuSupport: false
    conda:
      name: project_environment
      channels:
      - defaults
      dependencies:
      - python=3.6.8
      - pip:
        - azureml-designer-classic-modules==0.0.110
    entry: mock_entry.py
    args:
    - --input-0
    - inputPath: train_input_dir
    - --input-1
    - inputPath: valid_input_dir
    - --input-2
    - inputPath: rsp_input_dir
    - --input-3
    - inputPath: vocab_input_dir
    - --input-4
    - inputPath: model_input_dir
    - --input-5
    - inputPath: gmr_input_dir
    - --input-6
    - inputPath: eval_input_dir
    - --output-0
    - outputPath: model_output_dir
    - --output-1
    - outputPath: eval_output_dir
    - --param-0
    - inputValue: eyeson_debug
    - --param-1
    - inputValue: docker_image
    - --param-2
    - inputValue: num_gpu
    - --param-3
    - inputValue: vm_size
    - --param-4
    - inputValue: cluster_id
    - --param-5
    - inputValue: distributed_launcher
    - --param-6
    - inputValue: distributed_arguments
    - --param-7
    - inputValue: run_mode
    - --param-8
    - inputValue: tokenizer
    - --param-9
    - inputValue: max_epochs
    - --param-10
    - inputValue: max_msg_len
    - --param-11
    - inputValue: max_rsp_len
    - --param-12
    - inputValue: model_file
    - --param-13
    - inputValue: lm_alpha
    - --param-14
    - inputValue: Arguments
